<!DOCTYPE html>
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="files/sidebar.css">
	<link rel="stylesheet" type="text/css" href="files/main.css">
	<link rel="stylesheet" type="text/css" href="files/utility.css">
	<title>Preprocessed CamphorScript</title>
</head>

<body>
<div id="all">
	<div id="main">
		<div id="title">
			<h1 id="titletxt">Preprocessed CamphorScript</h1>
		</div>

		<div id="introtext">
		<p>A human-readable programming language that can be translated into Brainf*ck</p>
		</div>
		
		<div class="chapter">
			<h2 class="content"><a href="#" id="a1" class="btn">1. Introduction</a></h2>
			<h3>1-1. Introduction</h3>
			<p>
				Preprocessed CamphorScript is an imperative language designed to facilitate programming 
				in <a href="http://en.wikipedia.org/wiki/Brainfuck">Brainf*ck</a>, an esoteric programming language made up of only eight instructions. 
			</p>
			<p>
				Programming in Brainf*ck can be difficult and tedious. However, by using many syntactic extensions, 
				Preprocessed CamphorScript makes it possible to write programs much easier.
			</p>
			<p>
				One of the most important properties of Preprocessed CamphorScript is that it is <strong>extensible</strong>.
				It is equipped with many ways to extend this language, 
				including <strong>user-defined operators</strong> and <strong>customizable syntaxes</strong>.
			</p>
			
		</div>
		<div class="chapter">
		<h2 class="content"><a href="#" id="a2" class="btn">2. Lexical Structure</a></h2>
			<h3>2-1. Metasyntax Notations</h3>
				<p>The syntax of this language is represented by these notations:</p>
				<table class="ta">
				<tr><td>[ <span class="pat">pattern</span> ]</td><td> optional </td></tr>
				<tr><td> {  <span class="pat">pattern</span>  } </td><td> zero or more repetitions </td></tr>
				<tr><td>( <span class="pat">pattern</span> )</td><td> grouping </td></tr>
				<tr><td><span class="pat">pat1</span>  |  <span class="pat">pat2</span></td><td> choice   </td></tr>
				<tr><td><span class="pat">pat1</span> = <span class="pat">pat2</span>;&nbsp;</td><td> definition   </td></tr>
				<tr><td><span class="str">"string"</span>   </td><td> string   </td></tr>
				<tr><td><span class="str">'string'</span>   </td><td> string   </td></tr>
				<tr><td><span class="pat">pat1</span>, <span class="pat">pat2</span> </td><td> concatenation </td></tr>
				<tr><td><span class="pat">pat1</span> - <span class="pat">pat2</span> </td><td> exception </td></tr>
				<tr><td><span class="spe">? 0x2A ?</span> </td><td> character (hexadecimal)  </td></tr>
				</table>
				<p>Note that exception binds more strongly than concatenation and concatenation binds more strongly than choice.</p>
			<br /><h3>2-2. Program Structure</h3>
				<p>A Preprocessed CamphorScript program consists of zero or more sentences.</p>
				<p>Definitions of sentences are described in Chapter <a href="#a4">4</a> and Chapter <a href="#a6">6</a>.</p>
		</div>
		<div class="chapter">
		<h2 class="content"><a href="#" id="a3" class="btn">3. Tokens</a></h2>
			
			<h3>3-1. Characters</h3>
			
			<p>
				<span class="pat">anychar</span> = 
				<span class="pat">alphanumbar</span> |
				<span class="pat">opsymbol</span> |
				<span class="pat">bracs</span> |
				<span class="pat">future</span> |
				<span class="pat">white</span> |
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">allchar</span> = 
				<span class="pat">anychar</span> |
				<span class="spe">? 0x5C ?</span>;
			</p>
			<p>
				<span class="pat">opsymbol</span> = 
				<span class="str">'!'</span> |
				<span class="str">'%'</span> |
				<span class="str">'&amp;'</span> |
				<span class="str">'*'</span> |
				<span class="str">'+'</span> |
				<span class="str">','</span> |
				<span class="str">'-'</span> |
				<span class="str">'/'</span> |
				<span class="str">':'</span> |
				<span class="str">'&lt;'</span> |
				<span class="str">'='</span> |
				<span class="str">'&gt;'</span> |
				<span class="str">'?'</span> |
				<span class="str">'@'</span> |
				<span class="str">'^'</span> |
				<span class="str">'|'</span> |
				<span class="str">'~'</span>;
			</p>
			<p>
				<span class="pat">bracs</span> =
				<span class="str">'('</span> |
				<span class="str">')'</span> |
				<span class="str">'{'</span> |
				<span class="str">'}'</span> |
				<span class="str">'"'</span> |
				<span class="str">"'"</span>;
			</p>
			<p>
				<span class="pat">scolon</span> = <span class="str">';'</span>;
			</p>
			<p>
				<span class="pat">white</span> = 
				<span class="spe">? 0x20 ?</span> | 
				<span class="pat">nswhite</span>;
			</p>
			<p>
				<span class="pat">nswhite</span> = 
				<span class="pat">newline</span> | 
				<span class="spe">? 0x09 ?</span>;
			</p>
			<p>
				<span class="pat">newline</span> = 
				<span class="spe">? 0x0A ?</span> | 
				<span class="spe">? 0x0D ?</span>;
			</p>
			<p>
				<span class="pat">future</span> =
				<span class="str">'#'</span> |
				<span class="str">'$'</span> |
				<span class="str">'.'</span> |
				<span class="str">'`'</span> |
				<span class="str">'['</span> |
				<span class="str">']'</span>;
			</p>
		
			
			<p>
				<span class="pat">digit</span> = 
				<span class="str">'0'</span> |
				<span class="str">'1'</span> |
				<span class="str">'2'</span> |
				<span class="str">'3'</span> |
				<span class="str">'4'</span> |
				<span class="str">'5'</span> |
				<span class="str">'6'</span> |
				<span class="str">'7'</span> |
				<span class="str">'8'</span> |
				<span class="str">'9'</span>;
			</p>
			<p>
				<span class="pat">alphanumbar</span> = <span class="pat">alphabar</span> | <span class="pat">digit</span>;
			</p>
			<p>
				<span class="pat">alphabar</span> = <span class="pat">upper</span> | <span class="pat">lower</span>;
			</p>
			<p>
				<span class="pat">upper</span> = 
				<span class="str">'A'</span> |
				<span class="str">'B'</span> |
				<span class="str">'C'</span> |
				<span class="str">'D'</span> |
				<span class="str">'E'</span> |
				<span class="str">'F'</span> |
				<span class="str">'G'</span> |
				<span class="str">'H'</span> |
				<span class="str">'I'</span> |
				<span class="str">'J'</span> |
				<span class="str">'K'</span> |
				<span class="str">'L'</span> |
				<span class="str">'M'</span> |
				<span class="str">'N'</span> |
				<span class="str">'O'</span> |
				<span class="str">'P'</span> |
				<span class="str">'Q'</span> |
				<span class="str">'R'</span> |
				<span class="str">'S'</span> |
				<span class="str">'T'</span> |
				<span class="str">'U'</span> |
				<span class="str">'V'</span> |
				<span class="str">'W'</span> |
				<span class="str">'X'</span> |
				<span class="str">'Y'</span> |
				<span class="str">'Z'</span>;
			</p>
			<p>
				<span class="pat">lower</span> = 
				<span class="str">'a'</span> |
				<span class="str">'b'</span> |
				<span class="str">'c'</span> |
				<span class="str">'d'</span> |
				<span class="str">'e'</span> |
				<span class="str">'f'</span> |
				<span class="str">'g'</span> |
				<span class="str">'h'</span> |
				<span class="str">'i'</span> |
				<span class="str">'j'</span> |
				<span class="str">'k'</span> |
				<span class="str">'l'</span> |
				<span class="str">'m'</span> |
				<span class="str">'n'</span> |
				<span class="str">'o'</span> |
				<span class="str">'p'</span> |
				<span class="str">'q'</span> |
				<span class="str">'r'</span> |
				<span class="str">'s'</span> |
				<span class="str">'t'</span> |
				<span class="str">'u'</span> |
				<span class="str">'v'</span> |
				<span class="str">'w'</span> |
				<span class="str">'x'</span> |
				<span class="str">'y'</span> |
				<span class="str">'z'</span> |
				<span class="str">'_'</span>;
			</p>
			
			<p>Characters not in <span class="pat">anychar</span> cannot be used in a Preprocessed CamphorScript program except inside comments or pragmas.</p>
			<br /><h3>3-2. Spaces and Comments</h3>
			<p>
				As in languages such as C, Preprocessed CamphorScript ignores most of the spaces. 
			</p>
			<p>
				The exceptions are:
			</p>
			<ul>
				<li>between two <span class="pat">alphanumbar</span>s</li>
				<li>inside character literals</li>
			</ul>
			
			<p>
				Comments are also ignored, parsed like spaces are, 
				except when they are after <span class="pat">opsymbol</span>s followed by zero or more spaces.
			</p>
			<p>
				<span class="pat">__</span> = 
				{
					<span class="pat">none</span>
				};
			</p>
			<p>
				<span class="pat">none</span> = 
				<span class="pat">spaces</span> |
				<span class="pat">comment</span>;
			</p>
			<p>
				<span class="pat">spaces</span> = 
				<span class="pat">white</span>, 
				{
					<span class="pat">white</span>
				};
			</p>
			<p>
				<span class="pat">comment</span> = 
				( 
					<span class="str">'/*'</span>,
					{ <span class="pat">allchar</span> },
					<span class="str">'*/'</span>
				) - <span class="pat">pragma</span>;
			</p>
			<br /><h3>3-3. Identifiers</h3>
			<p>An identifier can be used for the name of a variable or a function. </p>
			<p>
				<span class="pat">ident</span> =
				( <span class="pat">alphabar</span>, 
				{
					<span class="pat">alphanumbar</span>
				} ) - <span class="pat">reserved</span>;
			</p>
			<p>
				<span class="pat">reserved</span> =
				<span class="str">'char'</span> |
				<span class="str">'delete'</span> |
				<span class="str">'infixl'</span> |
				<span class="str">'infixr'</span> |
				<span class="str">'void'</span> |
				<span class="str">'constant'</span> |
				<span class="str">'const'</span> |
				<span class="str">'syntax'</span> |
				<span class="str">'block'</span>;
			</p>
			
			<br /><h3>3-4. Operator Identifiers</h3>
			<p>An operator identifier can be used for the name of an operator.</p>
			<p>
				<span class="pat">op</span> =
				<span class="pat">op2</span> |
				<span class="pat">opsymbol</span>, 
				{
					<span class="pat">opsymbol</span> |
					<span class="pat">white</span>
				};
			</p>
			<p>
				<span class="pat">op2</span> =
				<span class="pat">op3</span> |
				<span class="str">'&lt;'</span>, <span class="pat">spaces</span>,
				<span class="pat">op2</span>, <span class="pat">spaces</span>,
				<span class="str">'&gt;'</span>;
			</p>
			<p>
				<span class="pat">op3</span> =
				<span class="str">'&lt;'</span>, <span class="pat">spaces</span>,
				<span class="str">'{'</span>, <span class="pat">spaces</span>,
				<span class="pat">alphabar</span>, 
				{
					<span class="pat">alphanumbar</span>
				}, <span class="pat">spaces</span>,
				<span class="str">'}'</span>, <span class="pat">spaces</span>,
				<span class="str">'&gt;'</span>;
			</p>
			<br /><h3>3-4. Literals</h3>
			<p>In Preprocessed CamphorScript, there are two kinds of literals: numeric literals and character literals. They only differ in the way they are expressed in the source code.</p>
			<p>
				A numeric literal is a sequence of 0-9. Unlike some languages, even number literals starting with zero are considered to be decimal, not octal.
			</p>
			<p>
				A character literal is a character except single quote and <span class="pat">nswhite</span>  surrounded by single quotes.
			</p>
			<p>
				<span class="pat">num</span> = <span class="pat">uint1</span> | <span class="pat">uint2</span>;
			</p>
			<p>
				<span class="pat">uint1</span> = <span class="pat">digit</span>, { <span class="pat">digit</span> };
			</p>
			<p>
				<span class="pat">uint2</span> = 
				<span class="str">"'"</span>,
				( 
					<span class="pat">allchar</span> - 
					(
						<span class="str">"'"</span>  |
						<span class="pat">nswhite</span> 
					)
				),
				<span class="str">"'"</span>;
			</p>
			
			<br /><h3>3-5. Type Bases</h3>
			<p>A type base represents a set of data. Types, which are properties of r-values, are derived from type bases.</p>
			<p>
				The following type base is built-in.
			</p>
			<table class="ta">
			<tr><td><span class="code">char</span></td><td>an integer between 0 and 255</td></tr>
			</table>
			<p>
				<span class="pat">typebase</span> = <span class="str">'char'</span>; 
			</p>
			<p>
				Currently, there is no way to create any other type bases.
			</p>
		</div>
		
		
		
		<div class="chapter">
		<h2 class="content"><a href="#" id="a4" class="btn">4. Variables</a></h2>
			<p>
				A variable is defined using, or <strong>linked</strong> to, a type base, storing a datum that belongs to the type base. 
				Referring to an undefined variable must result in an error.
			</p>
			
			<br /><h3>4-1. Variable Definition</h3>
			<p>Variables are defined by declaration statements.</p>
			<p>It is possible to add initializers (e.g. <span class="code">char a = 5;</span>) to variables. If not, they will automatically be initialized with 0. </p>
			<p>Note that <span class="code">=</span> is not a built-in operator; 
			it is just that <span class="code">char a = 5;</span> is a syntactic sugar of <span class="code">char a; a += 5;</span> and that <span class="code">char a = b = 5;</span> is a syntactic sugar of <span class="code">char a; a += 5; char b; b += 5;</span>, <span class="code">+=</span> being a built-in operator.</p>
			<p>
				<span class="pat">vardef</span> =
				<span class="pat">typebase</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">singledef</span>, <span class="pat">__</span>, 
				{
					<span class="str">','</span>, <span class="pat">__</span>, 
					<span class="pat">singledef</span>, <span class="pat">__</span>
				},
				<span class="pat">__</span>,  <span class="pat">scolon</span>;
			</p>
			<p><span class="pat">singledef</span> = 
			   <span class="pat">ident</span>, <span class="pat">__</span>, 
			   [ 
					<span class="str">'='</span>, <span class="pat">__</span>, 
					{
						<span class="pat">ident</span>, <span class="pat">__</span>, 
						<span class="str">'='</span>, <span class="pat">__</span> 
					}, 
					<span class="pat">num</span>
			   ];
			</p>
			
			<br /><h3>4-2. Variable Deletion</h3>
			<p>Variables are deleted by deletion statements.</p>
			<p>Variables defined in a block must be deleted in the same block.</p>
			<p>The effect of attempting to delete a variable which contains non-zero data is <strong class="very">undefined</strong>.</p>
			<p>
				<span class="pat">vardel</span> = 
				<span class="str">'delete'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<br /><h3>4-3. R-value</h3>
			<p>An r-value is either a literal or a variable.</p>
			<p>
				<span class="pat">value</span> = 
				<span class="pat">ident</span> |
				<span class="pat">num</span>;
			</p>
			<br /><h3>4-4. Block</h3>
			<p>A block wraps zero or more sentences and creates a scope. A semicolon is implicitly inserted before a <span class="str">'}'</span>.</p>
			<p>
				<span class="pat">block2</span> = 
				<span class="str">'{'</span>, 
				{ <span class="pat">sentence</span> }
				<span class="str">'}'</span>;
			</p>

		</div>
		<div class="chapter">
		<h2 class="content"><a href="#" id="a5" class="btn">5. Types</a></h2>
			<h3>5-1. Types</h3>
			<p>
				In Preprocessed CamphorScript, every r-value has a type, 
				including the parameters used in the definitions of <a href="#a6">functions, operators and block syntaxes</a>.
			</p>
			
			
			<p>
				Each type base creates three types. 
				In the following table, <span class="code">T</span> represents a type base.
			</p>
			<table class="ta">
			<tr><td>type</td><td>can be given to:</td><td>modifiable</td></tr>
			<tr><td><span class="code">T &amp;</span></td><td>variables</td><td>Yes</td></tr>
			<tr><td><span class="code">const T</span></td><td>r-values </td><td>No </td></tr>
			<tr><td><span class="code">constant T</span></td><td>literals</td><td>No </td></tr>
			</table>
			
			<!-- <table class="ta">
			<tr><td><span class="code">T &amp;</span></td><td>The value of the variable passed as the argument can be modified.</td></tr>
			<tr><td><span class="code">const T</span></td><td>The value of the argument, which can be a variable or a constant, cannot be modified.</td></tr>
			<tr><td><span class="code">constant T</span></td><td>The value of the argument, which must be a constant, cannot be modified.</td></tr>
			</table> -->
			<!--
		<p>
				Compilers are allowed to choose the effect of the value becoming greater than 255 or negative: 
				either make it a run-time error or add/subtract 256 implicitly to fit it in the 0-255 range.
			</p>
		-->
			<p>
				<span class="pat">type</span> = 
				<span class="str">'constant'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">typebase</span>, <span class="pat">none</span> |
				<span class="str">'const'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">typebase</span>, <span class="pat">none</span> |
				<span class="pat">typebase</span>, <span class="pat">__</span>, 
				<span class="str">'&amp;'</span>;
			</p>
			<p>
				Variables defined using type bases <span class="code">T</span> have the type of <span class="code">T &amp;</span>; numeric literals and character literals have <span class="code">constant char</span>.
			</p>
		
			
			<br /><h3>5-2. TypeLists and ValueLists</h3>
			<p>A typelist is a list of types and parameters, separated by operators.</p>
			
			<p>A valuelist is a list of values separated by operators.</p>
	
			<p>A tailtypelist is a list of types and parameters, separated and started by operators. It can be empty.</p>
	
			<p>A tailvaluelist is a list of values, separated and started by operators. It can be empty.</p>
			<p>
				<span class="pat">typelist</span> = 
				<span class="pat">type</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">type</span>, <span class="pat">__</span>, 
					<span class="pat">ident</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">valuelist</span> = 
				<span class="pat">value</span>, <span class="pat">__</span>, 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">value</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">tailtypelist</span> = 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">type</span>, <span class="pat">__</span>, 
					<span class="pat">ident</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">tailvaluelist</span> = 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">value</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				The following table shows whether or not an r-value can be passed to a parameter.
			</p>
			<table class="tb">
			<tr><td>r-value \ parameter</td><td><span class="code">T &amp;</span></td><td><span class="code">const T</span></td><td><span class="code">constant T</span></td></tr>
			<tr><td><span class="code">T &amp;</span></td>   <td>Yes</td><td>Yes</td><td>No </td></tr>
			<tr><td><span class="code">const T</span></td>   <td>No </td><td>Yes</td><td>No </td></tr>
			<tr><td><span class="code">constant T</span></td><td>No </td><td>Yes</td><td>Yes</td></tr>
			</table>
		</div>

		<div class="chapter">
		<h2 class="content"><a href="#" id="a6" class="btn">6. Functions, Operators and Block Syntaxes</a> </h2>
			<h3>6-1. Details about Inlining</h3>
			<p>
				In Preprocessed CamphorScript, "functions", "operators" and "block syntaxes" are merely an advanced version of C-style macros; thus, all of them, excluding those that are built-in, are inlined. 
			</p>
			<p>
				Because macros in languages such as C do not have the concept of type, they cannot prevent wrong arguments from being passed to them.
				The type system of Preprocessed CamphorScript prevents such cases, making it easier to write structured programs in an otherwise function-less language.
			</p>
			<p>
				A function, an operator or a block syntax has one or more <span class="pat">typelist</span>s. It is possible to have multiple typelists. This is known as <strong>overloading</strong>.
			</p>
			<p>
				Note that, since functions, operators and macros are inlined, they cannot recursively call itself. Mutual recursion is also forbidden.
			</p>
			
			<br /><h3>6-2. Function Definition</h3>
			<p>Functions are defined by function definition statements.</p>
			<p>
				<span class="pat">funcdef</span> = 
				<span class="str">'void'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>,  <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">blockornull</span>;
			</p>
			<p>
				<span class="pat">blockornull</span> = 
				<span class="pat">block2</span> | 
				<span class="str">'='</span>, <span class="pat">__</span>, 
				<span class="str">'0'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
			Functions defined by using <span class="code">=0;</span> are called <strong>null functions</strong> and
			compilers are required to report errors when those functions are called.
			</p>
			<p>
			The following functions are built-in; they cannot be deleted or redefined, but they can be overloaded.
			</p>
			<table class="ta">
				<tr>
					<td><span class="code">void read(char& a)</span></td>
					<td>gets one byte of input and stores it in <span class="code">a</span></td>
				</tr>
				<tr>
					<td><span class="code">void write(char& a)</span></td>
					<td>outputs the content of <span class="code">a</span></td>
				</tr>
			</table>
			<br /><h3>6-3. Fixity Definition</h3>
			<p>The fixity of an operator must be defined before it can be used.</p>
			<p>There are two types of fixity, namely <strong>left fixity</strong> and <strong>right fixity</strong>.</p>
			<p>An operator's fixity can be defined more than once, but they all have to be the same.</p>
			<p>
			The fixities of built-in operators 
			<span class="code">+=</span> and <span class="code">-=</span> are implicitly defined as 
			<span class="code">infixr 5 (+=);</span> and <span class="code">infixr 5 (-=);</span>
			</p>
			<p>
				<span class="pat">infixl</span> = 
				<span class="str">'infixl'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">num</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">infixr</span> = 
				<span class="str">'infixr'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">num</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<br /><h3>6-4. Operator Definition</h3>
			<p>Operators are defined by opreator definition statements.</p>
			<p>
				<span class="pat">operdef</span> = 
				<span class="str">'void'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">blockornull</span>;
			</p>
			<p>
			The following operators are built-in.
			</p>
			<table class="ta">
			<tr>
				<td><span class="code">void (+=)(char& a; constant char N)</span></td>
				<td>adds <span class="code">N</span> to <span class="code">a</span> and stores the result in <span class="code">a</span></td>
			</tr>
			<tr>
				<td><span class="code">void (-=)(char& a; constant char N)</span></td>
				<td>subtracts <span class="code">N</span> from <span class="code">a</span> and stores the result in <span class="code">a</span></td>
			</tr>
			</table>
			
			<br /><h3>6-5. BLOCK Statement</h3>
			<p>A BLOCK statement, not to be confused with a block, is a statement made by appending a semicolon 
			after the reserved word <span class="code">block</span>.</p>
			<p>It can only be used inside the latter block of block syntax definition.</p>
			<p>
				<span class="pat">resblc</span> = 
				<span class="str">'block'</span>, <span class="pat">__</span>,  <span class="pat">scolon</span>;
			</p>
			
			<br /><h3>6-6. Block Syntax Definition</h3>
			<p>Block syntaxes are defined by syntax definition statements.</p>
			<p>
				<span class="pat">syndef</span> = 
				<span class="str">'syntax'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				(<span class="pat">typelist</span> | <span class="pat">tailtypelist</span>), <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'{'</span>, <span class="pat">__</span>, 
				<span class="str">'block'</span>, <span class="pat">__</span>, 
				{
					<span class="pat">scolon</span> | <span class="pat">__</span>
				}
				<span class="str">'}'</span>, <span class="pat">__</span>, 
				<span class="pat">block2</span>;
			</p>
			<p>
			The following block syntax is built-in.
			</p>
			<table class="ta">
			<tr>
				<td><span class="code">syntax while(char& a){block;}</span></td>
				<td>repeats executing <span class="code">block</span> while <span class="code">a</span> is non-zero</td>
			</tr>
			</table>
			<br /><h3>6-7. Function Call</h3>
			<p>Functions are called by function call statements.</p>
			<p>
				<span class="pat">funccall</span> = 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				Further details of function calls are explained in 6-1.
			</p>
			<br /><h3>6-8. Block Syntax Call</h3>
			<p>Block syntaxes are called by block syntax call statements.</p>
			<p>
				<span class="pat">syncall</span> = 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				(
					<span class="pat">valuelist</span> | 
					<span class="pat">tailvaluelist</span>
				), <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">block2</span>;
			</p>
			<br /><h3>6-9. Operator Call </h3>
			<p>An operator is called by operator call statements; however, there are five ways to call an operator.</p>
			<p>The first way is <strong>prefix notation</strong>, where an operator being called comes first, surrounded by parentheses.</p>
			<p>Two operands are separated by a semicolon and then surrounded by parentheses.</p>
			<p>
				<span class="pat">opcall1</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
 				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>The second way is <strong>fully-parenthesized infix notation</strong>, where two operands are both surrounded by parentheses and the operator comes between the two.</p>
			<p>
				<span class="pat">opcall2</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>The third way is <strong>left-parenthesized infix notation</strong>, where only the left operand is parenthesized.</p>
			<p>
				This notation also requires that the all the operators (if any) in the right <span class="pat">valuelist</span> 
				must satisfy at least one of the following properties:
			</p>
			<ul>
			<li>has stronger fixity than the "central" operator</li>
			<li>has the same fixity as the "central" operator and both are <span class="code">infixr</span></li>
			</ul>
			<p>
				<span class="pat">opcall3</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>The fourth way is <strong>right-parenthesized infix notation</strong>, where only the right operand is parenthesized.</p>
			<p>
				This notation also requires that the all the operators (if any) in the left <span class="pat">valuelist</span> 
				must satisfy at least one of the following properties:
			</p>
			<ul>
			<li>has stronger fixity than the "central" operator</li>
			<li>has the same fixity as the "central" operator and both are <span class="code">infixl</span></li>
			</ul>
			<p>
				<span class="pat">opcall4</span> = 
				<span class="pat">opcall4a</span> |
				<span class="pat">opcall4b</span>;
			</p>
			<p>
				<span class="pat">opcall4a</span> = 
				<span class="pat">value</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
				{
					<span class="pat">value</span>, <span class="pat">__</span>, 
					<span class="pat">op</span>, <span class="pat">__</span>
				}, <span class="pat">__</span>, 
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall4b</span> = 
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>The final way is <strong>non-parenthesized infix notation</strong>, where operands are not parenthesized. This is essentially a <span class="pat">valuelist</span> followed by a semicolon.</p>
			<p>The actual operator to be called is determined by the following steps:</p>
			<ol>
				<li>If there is no operator, nothing is called.</li>
				<li>Look for the operator(s) with the smallest fixity.</li>
				<li>If all the operator(s) with the smallest fixity are <span class="code">infixl</span>, the leftmost one is called.</li>
				<li>If all the operator(s) with the smallest fixity are <span class="code">infixr</span>, the rightmost one is called.</li>
				<li>If mixed, the statement is invalid.</li>
			</ol>
			<p>
				<span class="pat">opcall5</span> = 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
		</div>
		<div class="chapter">
			<h2 class="content"><a href="#" id="a7" class="btn">7. Pragmas</a></h2>
			
			<h3>7-1. Pragmas</h3>
			<p>Pragmas are special statements used to give additional instructions to the compiler. </p>
			<p>A compiler does not need to implement any pragmas, though unimplemented pragmas should be ignored.</p>
			<p>
				<span class="pat">pragma</span> = 
					<span class="str">'/*#'</span>,
					{ <span class="pat">allchar</span> },
					<span class="str">'#*/'</span>;
			</p>
			
			<br /><h3>7-2. Line Start Pragmas</h3>
			<p>The <span class="code">LINE start</span> pragma tells the compiler that following lines are from another file and that compilers implementing this pragma should produce error messages according to that information.</p>
			<p>Note that <span class="code">LINE start</span> pragmas can be recursively used.</p>
			<p>
				Example: <span class="code">/*# LINE start "stdcalc" #*/</span>
			</p>
			
			<br /><h3>7-3. Line End Pragmas</h3>
			<p>The <span class="code">LINE end</span> pragma tells the compiler that following lines are no longer from another file and that compilers implementing this pragma should produce error messages according to that information.</p>
			<p>
				Example: <span class="code">/*# LINE end "stdcalc" #*/</span>
			</p>
			
			<br /><h3>7-4. Memory Using Pragmas</h3>
			<p>
				When a <span class="code">MEMORY using</span> pragma is followed by a call whose definition defines "local" variable(s),
				it tells the compiler to use specific variable(s), 
				all of which <strong class="very">must</strong> be zero,
				instead of newly allocating memories for the "local" variable(s).
			</p>
			<p>
				Example: 
			</p>
			<table><tr><td>
			<pre class="codes">
void (+=)(char&amp; a; char&amp; b){
	char c2;
	while(b){
		a += 1; c2 += 1; b -= 1;
	}
	while(c2){
		b += 1; c2 -= 1;
	}
	delete c2;
}
char c,d,e; read(c);
/*# MEMORY using e #*/   d += c ; </pre>
			</td></tr></table>
		</div>
		
		<div class="chapter">
		<h2 class="content"><a href="#" id="a8" class="btn">8. Full Lexical Structure</a> </h2>
			<h3>8-1. Program and Sentence</h3>
			<p><span class="pat">program</span> =   {   <span class="pat">sentence</span>  };</p>
			<p><span class="pat">sentence</span> = 
				   <span class="pat">vardef</span><!-- def -->    |
				   <span class="pat">syndef</span><!-- syntax --> | 
				   <span class="pat">vardel</span><!-- del -->    | 
				   <span class="pat">scolon</span><!-- scl -->    | 
				   <span class="pat">resblc</span><!-- bLOCK -->  | 
				   <span class="pat">infixl</span><!-- infl -->   |
				   <span class="pat">infixr</span><!-- infr -->   |
				   <span class="pat">spaces</span><!-- spac -->   |
				   <span class="pat">block2</span><!-- block2 --> |
				   <span class="pat">comment</span><!-- comm -->  |
				   <span class="pat">pragma</span><!-- pragma --> |
				   <span class="pat">funcdef</span><!-- func_def --> |
				   <span class="pat">operdef</span><!-- op_def --> |
				   <span class="pat">funccall</span><!-- func_call --> |
				   <span class="pat">syncall</span><!-- syntax_call --> |
				   <span class="pat">opcall1</span><!-- op_call1 --> |
				   <span class="pat">opcall2</span><!-- op_call2 --> |
				   <span class="pat">opcall3</span><!-- op_call3 --> |
				   <span class="pat">opcall4</span><!-- op_call4 --> |
				   <span class="pat">opcall5</span>;<!-- op_call5 --> </p>
			<br /><h3>8-2. Characters</h3>
			<p>
				<span class="pat">anychar</span> = 
				<span class="pat">alphanumbar</span> |
				<span class="pat">opsymbol</span> |
				<span class="pat">bracs</span> |
				<span class="pat">future</span> |
				<span class="pat">white</span> |
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">allchar</span> = 
				<span class="pat">anychar</span> |
				<span class="spe">? 0x5C ?</span>;
			</p>
			<p>
				<span class="pat">opsymbol</span> = 
				<span class="str">'!'</span> |
				<span class="str">'%'</span> |
				<span class="str">'&amp;'</span> |
				<span class="str">'*'</span> |
				<span class="str">'+'</span> |
				<span class="str">','</span> |
				<span class="str">'-'</span> |
				<span class="str">'/'</span> |
				<span class="str">':'</span> |
				<span class="str">'&lt;'</span> |
				<span class="str">'='</span> |
				<span class="str">'&gt;'</span> |
				<span class="str">'?'</span> |
				<span class="str">'@'</span> |
				<span class="str">'^'</span> |
				<span class="str">'|'</span> |
				<span class="str">'~'</span>;
			</p>
			<p>
				<span class="pat">bracs</span> =
				<span class="str">'('</span> |
				<span class="str">')'</span> |
				<span class="str">'{'</span> |
				<span class="str">'}'</span> |
				<span class="str">'"'</span> |
				<span class="str">"'"</span>;
			</p>
			<p>
				<span class="pat">scolon</span> = <span class="str">';'</span>;
			</p>
			<p>
				<span class="pat">white</span> = 
				<span class="spe">? 0x20 ?</span> | 
				<span class="pat">nswhite</span>;
			</p>
			<p>
				<span class="pat">nswhite</span> = 
				<span class="pat">newline</span> | 
				<span class="spe">? 0x09 ?</span>;
			</p>
			<p>
				<span class="pat">newline</span> = 
				<span class="spe">? 0x0A ?</span> | 
				<span class="spe">? 0x0D ?</span>;
			</p>
			<p>
				<span class="pat">future</span> =
				<span class="str">'#'</span> |
				<span class="str">'$'</span> |
				<span class="str">'.'</span> |
				<span class="str">'`'</span> |
				<span class="str">'['</span> |
				<span class="str">']'</span>;
			</p>
		
			
			<p>
				<span class="pat">digit</span> = 
				<span class="str">'0'</span> |
				<span class="str">'1'</span> |
				<span class="str">'2'</span> |
				<span class="str">'3'</span> |
				<span class="str">'4'</span> |
				<span class="str">'5'</span> |
				<span class="str">'6'</span> |
				<span class="str">'7'</span> |
				<span class="str">'8'</span> |
				<span class="str">'9'</span>;
			</p>
			<p>
				<span class="pat">alphanumbar</span> = <span class="pat">alphabar</span> | <span class="pat">digit</span>;
			</p>
			<p>
				<span class="pat">alphabar</span> = <span class="pat">upper</span> | <span class="pat">lower</span>;
			</p>
			<p>
				<span class="pat">upper</span> = 
				<span class="str">'A'</span> |
				<span class="str">'B'</span> |
				<span class="str">'C'</span> |
				<span class="str">'D'</span> |
				<span class="str">'E'</span> |
				<span class="str">'F'</span> |
				<span class="str">'G'</span> |
				<span class="str">'H'</span> |
				<span class="str">'I'</span> |
				<span class="str">'J'</span> |
				<span class="str">'K'</span> |
				<span class="str">'L'</span> |
				<span class="str">'M'</span> |
				<span class="str">'N'</span> |
				<span class="str">'O'</span> |
				<span class="str">'P'</span> |
				<span class="str">'Q'</span> |
				<span class="str">'R'</span> |
				<span class="str">'S'</span> |
				<span class="str">'T'</span> |
				<span class="str">'U'</span> |
				<span class="str">'V'</span> |
				<span class="str">'W'</span> |
				<span class="str">'X'</span> |
				<span class="str">'Y'</span> |
				<span class="str">'Z'</span>;
			</p>
			<p>
				<span class="pat">lower</span> = 
				<span class="str">'a'</span> |
				<span class="str">'b'</span> |
				<span class="str">'c'</span> |
				<span class="str">'d'</span> |
				<span class="str">'e'</span> |
				<span class="str">'f'</span> |
				<span class="str">'g'</span> |
				<span class="str">'h'</span> |
				<span class="str">'i'</span> |
				<span class="str">'j'</span> |
				<span class="str">'k'</span> |
				<span class="str">'l'</span> |
				<span class="str">'m'</span> |
				<span class="str">'n'</span> |
				<span class="str">'o'</span> |
				<span class="str">'p'</span> |
				<span class="str">'q'</span> |
				<span class="str">'r'</span> |
				<span class="str">'s'</span> |
				<span class="str">'t'</span> |
				<span class="str">'u'</span> |
				<span class="str">'v'</span> |
				<span class="str">'w'</span> |
				<span class="str">'x'</span> |
				<span class="str">'y'</span> |
				<span class="str">'z'</span> |
				<span class="str">'_'</span>;
			</p>
			<br /><h3>8-3. Tokens</h3>
			<p>
				<span class="pat">__</span> = 
				{
					<span class="pat">none</span>
				};
			</p>
			<p>
				<span class="pat">none</span> = 
				<span class="pat">spaces</span> |
				<span class="pat">comment</span>;
			</p>
			<p>
				<span class="pat">spaces</span> = 
				<span class="pat">white</span>, 
				{
					<span class="pat">white</span>
				};
			</p>
			<p>
				<span class="pat">comment</span> = 
				( 
					<span class="str">'/*'</span>,
					{ <span class="pat">allchar</span> },
					<span class="str">'*/'</span>
				) - <span class="pat">pragma</span>;
			</p>
			<p>
				<span class="pat">ident</span> =
				( <span class="pat">alphabar</span>, 
				{
					<span class="pat">alphanumbar</span>
				} ) - <span class="pat">reserved</span>;
			</p>
			<p>
				<span class="pat">reserved</span> =
				<span class="str">'char'</span> |
				<span class="str">'delete'</span> |
				<span class="str">'infixl'</span> |
				<span class="str">'infixr'</span> |
				<span class="str">'void'</span> |
				<span class="str">'constant'</span> |
				<span class="str">'const'</span> |
				<span class="str">'syntax'</span> |
				<span class="str">'block'</span>;
			</p>
				<p>
				<span class="pat">op</span> =
				<span class="pat">op2</span> |
				<span class="pat">opsymbol</span>, 
				{
					<span class="pat">opsymbol</span> |
					<span class="pat">white</span>
				};
			</p>
			<p>
				<span class="pat">op2</span> =
				<span class="pat">op3</span> |
				<span class="str">'&lt;'</span>, <span class="pat">spaces</span>,
				<span class="pat">op2</span>, <span class="pat">spaces</span>,
				<span class="str">'&gt;'</span>;
			</p>
			<p>
				<span class="pat">op3</span> =
				<span class="str">'&lt;'</span>, <span class="pat">spaces</span>,
				<span class="str">'{'</span>, <span class="pat">spaces</span>,
				<span class="pat">alphabar</span>, 
				{
					<span class="pat">alphanumbar</span>
				}, <span class="pat">spaces</span>,
				<span class="str">'}'</span>, <span class="pat">spaces</span>,
				<span class="str">'&gt;'</span>;
			</p>
			<p>
				<span class="pat">num</span> = <span class="pat">uint1</span> | <span class="pat">uint2</span>;
			</p>
			<p>
				<span class="pat">uint1</span> = <span class="pat">digit</span>, { <span class="pat">digit</span> };
			</p>
			<p>
				<span class="pat">uint2</span> = 
				<span class="str">"'"</span>,
				( 
					<span class="pat">allchar</span> - 
					(
						<span class="str">"'"</span>  |
						<span class="pat">nswhite</span> 
					)
				),
				<span class="str">"'"</span>;
			</p>
			<p>
				<span class="pat">typebase</span> = <span class="str">'char'</span>; 
			</p>
			<br /><h3>8-4. Variables</h3>
			<p>
				<span class="pat">vardef</span> =
				<span class="pat">typebase</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">singledef</span>, <span class="pat">__</span>, 
				{
					<span class="str">','</span>, <span class="pat">__</span>, 
					<span class="pat">singledef</span>, <span class="pat">__</span>
				},
				<span class="pat">__</span>,  <span class="pat">scolon</span>;
			</p>
			<p><span class="pat">singledef</span> = 
			   <span class="pat">ident</span>, <span class="pat">__</span>, 
			   [ 
					<span class="str">'='</span>, <span class="pat">__</span>, 
					{
						<span class="pat">ident</span>, <span class="pat">__</span>, 
						<span class="str">'='</span>, <span class="pat">__</span> 
					}, 
					<span class="pat">num</span>
			   ];
			</p>
			<p>
				<span class="pat">vardel</span> = 
				<span class="str">'delete'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">value</span> = 
				<span class="pat">ident</span> |
				<span class="pat">num</span>;
			</p>
			<p>
				<span class="pat">block2</span> = 
				<span class="str">'{'</span>, 
				{ <span class="pat">sentence</span> }
				<span class="str">'}'</span>;
			</p>
			<br /><h3>8-5. Types</h3>
			<p>
				<span class="pat">type</span> = 
				<span class="str">'constant'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">typebase</span>, <span class="pat">none</span> |
				<span class="str">'const'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">typebase</span>, <span class="pat">none</span> |
				<span class="pat">typebase</span>, <span class="pat">__</span>, 
				<span class="str">'&amp;'</span>;
			</p>
			<p>
				<span class="pat">typelist</span> = 
				<span class="pat">type</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">type</span>, <span class="pat">__</span>, 
					<span class="pat">ident</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">valuelist</span> = 
				<span class="pat">value</span>, <span class="pat">__</span>, 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">value</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">tailtypelist</span> = 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">type</span>, <span class="pat">__</span>, 
					<span class="pat">ident</span>, <span class="pat">__</span>
				};
			</p>
			<p>
				<span class="pat">tailvaluelist</span> = 
				{
					<span class="pat">op</span>, <span class="pat">__</span>, 
					<span class="pat">value</span>, <span class="pat">__</span>
				};
			</p>
			<br /><h3>8-6. Functions, Operators and Block Syntaxes</h3>
			<p>
				<span class="pat">funcdef</span> = 
				<span class="str">'void'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>,  <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">blockornull</span>;
			</p>
			<p>
				<span class="pat">blockornull</span> = 
				<span class="pat">block2</span> | 
				<span class="str">'='</span>, <span class="pat">__</span>, 
				<span class="str">'0'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">infixl</span> = 
				<span class="str">'infixl'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">num</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">infixr</span> = 
				<span class="str">'infixr'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">num</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">operdef</span> = 
				<span class="str">'void'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>, <span class="pat">__</span>, 
				<span class="pat">typelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">blockornull</span>;
			</p>
			<p>
				<span class="pat">resblc</span> = 
				<span class="str">'block'</span>, <span class="pat">__</span>,  <span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">syndef</span> = 
				<span class="str">'syntax'</span>, <span class="pat">none</span>, <span class="pat">__</span>, 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				(<span class="pat">typelist</span> | <span class="pat">tailtypelist</span>), <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'{'</span>, <span class="pat">__</span>, 
				<span class="str">'block'</span>, <span class="pat">__</span>, 
				{
					<span class="pat">scolon</span> | <span class="pat">__</span>
				}
				<span class="str">'}'</span>, <span class="pat">__</span>, 
				<span class="pat">block2</span>;
			</p>
			<p>
				<span class="pat">funccall</span> = 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">syncall</span> = 
				<span class="pat">ident</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				(
					<span class="pat">valuelist</span> | 
					<span class="pat">tailvaluelist</span>
				), <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">block2</span>;
			</p>
			<p>
				<span class="pat">opcall1</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
 				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall2</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall3</span> = 
				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall4</span> = 
				<span class="pat">opcall4a</span> |
				<span class="pat">opcall4b</span>;
			</p>
			<p>
				<span class="pat">opcall4a</span> = 
				<span class="pat">value</span>, <span class="pat">__</span>, 
				<span class="pat">op</span>, <span class="pat">__</span>,
				{
					<span class="pat">value</span>, <span class="pat">__</span>, 
					<span class="pat">op</span>, <span class="pat">__</span>
				}, <span class="pat">__</span>, 
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall4b</span> = 
 				<span class="str">'('</span>, <span class="pat">__</span>, 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="str">')'</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<p>
				<span class="pat">opcall5</span> = 
				<span class="pat">valuelist</span>, <span class="pat">__</span>, 
				<span class="pat">scolon</span>;
			</p>
			<br /><h3>8-7. Pragmas</h3>
			<p>
				<span class="pat">pragma</span> = 
					<span class="str">'/*#'</span>,
					{ <span class="pat">allchar</span> },
					<span class="str">'#*/'</span>;
			</p>
		</div>
		
	</div>

	<div id="sidebar">
		<ul class="links">
			<li><a href="#a1">1. Introduction</a></li>
			<li><a href="#a2">2. Lexical Structure</a></li>
			<li><a href="#a3">3. Tokens</a></li>
			<li><a href="#a4">4. Variables</a></li>
			<li><a href="#a5">5. Types</a></li>
			<li><a href="#a6">6. Functions, Operators and Syntaxes</a></li>
			<li><a href="#a7">7. Pragmas</a></li>
			<li><a href="#a8">8. Full Lexical Structure</a></li>
		</ul>
		<!--
		<br /><h3>References</h3>
		<ul class="outerlinks">
			<li><a href="http://www.examples.com/1.html">LINK1</a></li>
			<li><a href="http://www.examples.com/2.html">LINK2</a></li>
			<li><a href="http://www.examples.com/3.html">LINK3</a></li>
			<li><a href="http://www.examples.com/4.html">LINK4</a></li>
			<li><a href="http://www.examples.com/5.html">LINK5</a></li>
			<li><a href="http://www.examples.com/6.html">LINK6</a></li>
			<li><a href="http://www.examples.com/7.html">LINK7</a></li>
			<li><a href="http://www.examples.com/8.html">LINK8</a></li>
		</ul> -->
		
	</div>
	
	<div style="clear:both; margin:10px 0 0; padding:5px; line-height:1.6em; width:960px; color:#777; text-align:left;">
		<p>&copy; 2014 Hirotaka Sato <br></p>
	</div>
</div>

</body></html>

		<!--	<p>
				<span class="pat">esc</span> = 
				<span class="pat">backslash</span>,
				( 
					<span class="str">"'"</span> |
					<span class="pat">backslash</span> |
					<span class="str">'a'</span> |
					<span class="str">'b'</span> |
					<span class="str">'f'</span> |
					<span class="str">'n'</span> |
					<span class="str">'r'</span> |
					<span class="str">'t'</span> |
					<span class="str">'v'</span> |
					<span class="str">'"'</span> |
					<span class="str">'?'</span> |
					<span class="str">'0'</span>
				);
			</p> -->
	
