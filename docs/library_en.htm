<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Libraries of CamphorScript</title>
</head>
<body>
<h2>Libraries of CamphorScript</h2>
<h3>0. Dependencies</h3>
<img src="files/dependency.png" /><br>
When two libraries are connected by a line, the lower one depends on the upper one.
<hr>
<h3>1. &lt;fixdecl&gt;</h3>
Includes: (nothing)<br>
Precedence Declaration:
<table>
<tr><td>infixl 0</td><td>(,)</td></tr>
<tr><td>infixr 5</td><td>(=), (+=), (-=), (=~), (+=~), (-=~), (+=!~), (=!~), (-|=), (-|=~)</td></tr>
<tr><td>infixl 35</td><td>(+), (-), (+~), (-~)</td></tr>
<tr><td>infixl 40</td><td>(*), (%), (*~), (/), (/~)</td></tr>
<tr><td></td><td></td></tr>
</table>
Definition of function and operators: (none)
<hr>
<h3>2. &lt;eq_til&gt;</h3>
Includes: &lt;fixdecl&gt;<br>
Precedence Declaration: (none)<br>
Definition of function and operators:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>void (+=~)(char&amp; a;char&amp; z)</td><td>a+= ~z;</td><td>a+=z, z=0;</td></tr>
<tr><td>void (+=~)(char&amp; a,char&amp; b;char&amp; z)</td><td>(a,b)+= ~z;</td><td>a+=z, b+=z, z=0;</td></tr>
<tr><td>void (+=~)(char&amp; a;char&amp; z * constant char N)</td><td>a+= ~z*N;</td><td>a+=z*N, z=0;</td></tr>
<tr><td>void (-=~)(char&amp; a;char&amp; z)</td><td>a-= ~z;</td><td>a-=z, z=0;</td></tr>
<tr><td>void (-=~)(char&amp; a,char&amp; b;char&amp; z)</td><td>(a,b)-= ~z;</td><td>a-=z, b-=z, z=0;</td></tr>
<tr><td>void (-=~)(char&amp; a;char&amp; z * constant char N)</td><td>a-= ~z*N;</td><td>a-=z*N, z=0</td></tr>
<tr><td>void (=~)(char&amp; a;char&amp; z)</td><td>a= ~z;</td><td>a=z, z=0;</td></tr>
<tr><td>void (=~)(char&amp; a,char&amp; b;char&amp; z)</td><td>(a,b)= ~z;</td><td>a=z, b=z, z=0;</td></tr>
<tr><td>void (=~)(char&amp; a;char&amp; z * constant char N)</td><td>a= ~z*N;</td><td>a=z*N, z=0;</td></tr>
</table>
<hr>

<h3>3. &lt;eq_bang_til&gt;</h3>
Includes: &lt;fixdecl&gt;<br>
Precedence Declaration: (none)<br>
Definition of function and operators:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>void (+=!~)(char& a;char& z)</td><td>a+= !~z;</td><td>a+= !z, z=0;</td></tr>
<tr><td>void (+=!~)(char& a,char& b;char& z)</td><td>(a,b)+= !~z;</td><td>a+= !z, b+= !z, z=0;</td></tr>
<tr><td>void (=!~)(char& a;char& z)</td><td>a= !~z;</td><td>a= !z, z=0;</td></tr>
<tr><td>void (=!~)(char& a,char& b;char& z)</td><td>(a,b)= !~z;</td><td>a= !z, b= !z, z=0;</td></tr>
</table>
<hr>

<h3>4. &lt;stdcalc&gt;</h3>
Includes: &lt;fixdecl&gt;, &lt;eq_til&gt;, &lt;eq_bang_til&gt;<br>
Precedence Declaration: (none)<br>
Definition of function and operators:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>void clear(char& a)</td><td>clear(a);</td><td>a=0;</td></tr>
<tr><td>void (=)(char& a;constant char N)</td><td>a=N;</td><td>a=N;</td></tr>
<tr><td>void (+=)(char& a;char& b)</td><td>a+=b;</td><td>a+=b;</td></tr>
<tr><td>void (+=)(char& a;constant char N *~ char& z)</td><td>a+= N * ~z;</td><td>a += N * z, z=0;</td></tr>
<tr><td>void (-|=~)(char& a;char& b)</td><td>a -|= ~b;</td><td>a= (a&gt;b ? a-b : 0), b=0;</td></tr>
</table>

<hr>

<h3>5. &lt;div&gt;</h3>
Includes: &lt;stdcalc&gt;<br>
Precedence Declaration:
<table>
<tr><td>infixr 5</td><td>(+&lt;-~), (&lt;-~), (-|=)</td></tr>
<tr><td>infixl 40</td><td>(/)</td></tr>
</table>
Definition of function and operators:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>void (-|=) (char&amp; a; const char N)</td><td>a -|= N;</td><td>a= (a&gt;N ? a-N : 0);</td></tr>
<tr><td>void (+=)(char&amp;a,char&amp;b;char&amp;c)</td><td>(a,b) += c;</td><td>a+=c, b+=c;</td></tr>
<tr><td>void (+&lt;-~) (char&amp; quot, char&amp; rem; char&amp; a / const char N)</td><td>(quot, rem)+ &lt;- ~a / N;</td><td>quot += a / N, rem += a % N, a=0;</td></tr>
<tr><td>void sprint(char&amp; x1, char&amp; x2, char&amp; x3 +&lt;-~ char&amp; a)</td><td>sprint(x1, x2, x3 + &lt;- ~a);</td><td>x3 += a % 10, x2 += (a/10) % 10, x1 += a/100, a=0;</td></tr>
</table>
<hr>

<h3>6. &lt;stdcalc2&gt;</h3>
Includes: &lt;stdcalc&gt;<br>
Definition of function and operators:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>void (+=)(char&amp;a; constant char M * constant char N)</td><td>a += M*N;</td><td>a += M*N;</td></tr>
<tr><td>void (-=)(char&amp;a; constant char M * constant char N)</td><td>a -= M*N;</td><td>a -= M*N;</td></tr>
</table>
<hr>

<h3>7. &lt;conditional&gt;</h3>
Includes: &lt;stdcalc2&gt;<br>
Definition of syntaxes:
<table>
<tr><td>Definition</td><td>How to use</td><td>expressed in C</td></tr>
<tr><td>syntax unless(~char& a){block}</td><td>unless(~a){/*block*/}</td><td>if(!a){a=0; {/*block*/}}</td></tr><!-- aがどの位置で0になるかは未定としたい -->
<tr><td>syntax unless(char& a){block}</td><td>unless(a){/*block*/}</td><td>if(!a){/*block*/}</td></tr>
<tr><td>syntax unless(constant char N - char& a){block}</td><td>unless(N-a){/*block*/}</td><td>if(!(N-a)){/*block*/}</td></tr>
</table>
<hr>

<h3>Names of characters</h3>
Some libraries are named from the operator defined there. The following shows how an operator should be transliterated.
<pre>
= eq
! bang
+ plus
- min
* star
~ til
% per
& and
, com
/ div
: col
< lt
> gt
? q
@ at
| pipe
^ hat
</pre>
</body>
</html>
